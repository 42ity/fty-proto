<class
    name = "bios_proto"
    signature = "0"
    title = "Core BIOS protocols"
    script = "zproto_codec_c_v1"
    package_dir = "../include"
    source_dir = "."
    >
TODO THERE WILL BE SOME DESCRPTION

<include filename = "../license.xml" />

<define name = "VERSION" value = "1" />
<define name = "METRIC_ELEMENT_DEST" value = "&quot;element-dest&quot;" />

MVY: To see if we can handle the need for ymsg wrapper by header
     Field aux is going to be added in each message
<header>
    <field name = "aux" type = "hash"/>
</header>

<message
    name = "METRIC"
    id = "1"
    >
    <field name = "type" type = "string">
        Type of metric send (temperature, humidity, power.load, ...)
    </field>
    <field name = "element_src" type = "string">
        Name of source element to which metrics are bind to.
    </field>
    <field name = "value" type = "string">
        Value of metric as plain string
    </field>
    <field name = "unit" type = "string">
        Unit of metric (C, F or K for temperature)
    </field>
    <field name = "time" type = "number" size = "8">
        Metric date/time, -1 will be replaced by actual time on receiving side.
    </field>
</message>

<message
    name = "ALERT"
    id = "2"
    >
    <field name = "rule" type = "string">
        a rule name, that triggers this alert
    </field>
    <field name = "element_src" type = "string">
        name of the element, where alert was detected. Most of the time is would be asset element name
    </field>
    <field name = "state" type = "string">
        state of the alert. Possible values are ACTIVE/ACK-WIP/ACK-IGNORE/ACK-PAUSE/ACK-SILENCE/RESOLVED
    </field>
    <field name = "severity" type = "string">
        severity of the alert. Possible values are INFO/WARNING/CRITICAL
    </field>
    <field name = "description" type = "string">
        a description of the alert
    </field>
    <field name = "time" type = "number" size = "8">
        ALERT date/time, -1 will be replaced by actual time on receiving side by current time.
    </field>
    <field name = "action" type = "string">
        list of strings separated by "/" ( EMAIL/SMS ) ( is optional and can be empty )
    </field>
</message>

<message
    name = "DATA"
    id = "3"
    >
    <field name = "type" type = "string">
        Type of data beeing send (for example "CONFIGURE"). Value is mandatory.
    </field>
    <field name = "key" type = "string">
        Data identifier (for example "smtp"). Value is optional.
    </field>
    <field name = "value" type = "string">
        Data (for example "1.2.3.4", but it could be json for more complex structure or base64 encoded binary stream). Value is mandatory.
    </field>
</message>


</class>
